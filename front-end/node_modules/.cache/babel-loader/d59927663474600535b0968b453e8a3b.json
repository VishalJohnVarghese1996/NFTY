{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaustubh\\\\EHR\\\\front-end\\\\src\\\\components\\\\patients\\\\Patients.js\";\nimport AddPatientForm from '../addPatient/AddPatientForm';\nimport axios from 'axios';\nimport Box from '@material-ui/core/Box';\nimport { Container } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport PatientList from '../patientList/PatientList';\nimport React from 'react';\nimport SearchBoxPatients from '../searchBoxPatients/SearchBoxPatients';\nimport { openSnackBar } from '../snackBar/SnackBar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst styles = theme => ({\n  box: {\n    margin: theme.spacing(1)\n  }\n});\n\nclass Patients extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patients: [],\n      filter: '',\n      addingPatient: false\n    };\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.toogleAddingPatientStatus = this.toogleAddingPatientStatus.bind(this);\n    this.addPatient = this.addPatient.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/patients/`, {\n      'headers': {\n        'x-access-token': localStorage.getItem('jwtToken')\n      }\n    }).then(result => {\n      this.setState({\n        patients: result.data.patients,\n        filter: this.state.filter,\n        addingPatient: this.state.addingPatient\n      });\n    }, error => {\n      openSnackBar({\n        message: error.response.data.message,\n        type: \"error\"\n      });\n    });\n  }\n\n  handleFilterChange(newValue) {\n    this.setState({\n      filter: newValue\n    });\n  }\n\n  toogleAddingPatientStatus() {\n    this.setState({\n      addingPatient: !this.state.addingPatient\n    });\n  }\n\n  addPatient(newPatient) {\n    let newPatientsList = this.state.patients;\n    newPatientsList.unshift(newPatient);\n    this.setState({\n      patients: newPatientsList\n    }, this.toogleAddingPatientStatus);\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    const patients = this.state.patients;\n    const filter = this.state.filter;\n    let addingPatient;\n\n    if (this.state.addingPatient) {\n      addingPatient = /*#__PURE__*/_jsxDEV(AddPatientForm, {\n        addPatient: this.addPatient,\n        cancel: this.toogleAddingPatientStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }, this);\n    } else {\n      addingPatient = /*#__PURE__*/_jsxDEV(Box, {\n        className: classes.box,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"MuiButton-Full\",\n          onClick: this.toogleAddingPatientStatus,\n          children: \"Agregar Paciente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      component: \"main\",\n      className: \"MuiContainer--01\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h2\",\n        align: \"center\",\n        color: \"textPrimary\",\n        gutterBottom: true,\n        children: \"Pacientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        align: \"center\",\n        color: \"textSecondary\",\n        component: \"p\",\n        children: \"Lista de Pacientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SearchBoxPatients, {\n        inputValue: filter,\n        onFilterChange: this.handleFilterChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), addingPatient, /*#__PURE__*/_jsxDEV(PatientList, {\n        patients: patients,\n        filter: filter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withStyles(styles, {\n  withTheme: true\n})(Patients);","map":{"version":3,"sources":["C:/Users/Kaustubh/EHR/front-end/src/components/patients/Patients.js"],"names":["AddPatientForm","axios","Box","Container","Button","PatientList","React","SearchBoxPatients","openSnackBar","Typography","withStyles","styles","theme","box","margin","spacing","Patients","Component","constructor","props","state","patients","filter","addingPatient","handleFilterChange","bind","toogleAddingPatientStatus","addPatient","componentDidMount","get","process","env","REACT_APP_API_URL","localStorage","getItem","then","result","setState","data","error","message","response","type","newValue","newPatient","newPatientsList","unshift","render","classes","withTheme"],"mappings":"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","sourcesContent":["import AddPatientForm from '../addPatient/AddPatientForm';\r\nimport axios from 'axios';\r\nimport Box from '@material-ui/core/Box';\r\nimport { Container } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport PatientList from '../patientList/PatientList';\r\nimport React from 'react';\r\nimport SearchBoxPatients from '../searchBoxPatients/SearchBoxPatients';\r\nimport { openSnackBar } from '../snackBar/SnackBar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/styles'; \r\n\r\nconst styles = (theme) => ({\r\n    box: {\r\n        margin: theme.spacing(1),\r\n    }\r\n});\r\n\r\nclass Patients extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { patients: [], filter: '', addingPatient: false };\r\n        this.handleFilterChange = this.handleFilterChange.bind(this);\r\n        this.toogleAddingPatientStatus = this.toogleAddingPatientStatus.bind(this);\r\n        this.addPatient = this.addPatient.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`${process.env.REACT_APP_API_URL}/api/patients/`, {\r\n            'headers': { \r\n                'x-access-token': localStorage.getItem('jwtToken') \r\n            } \r\n        })\r\n        .then(\r\n            (result) => {\r\n                this.setState({ patients: result.data.patients, filter: this.state.filter, addingPatient: this.state.addingPatient });\r\n            },\r\n            (error) => {\r\n                openSnackBar({message: error.response.data.message, type: \"error\"});\r\n            }\r\n        )\r\n    }\r\n\r\n    handleFilterChange(newValue) {\r\n        this.setState({filter: newValue});\r\n    }\r\n\r\n    toogleAddingPatientStatus() {\r\n        this.setState({addingPatient: !this.state.addingPatient});\r\n    }\r\n\r\n    addPatient(newPatient) {\r\n        let newPatientsList = this.state.patients;\r\n        newPatientsList.unshift(newPatient);\r\n        this.setState({ patients: newPatientsList }, this.toogleAddingPatientStatus);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const patients =  this.state.patients;\r\n        const filter = this.state.filter;\r\n        let addingPatient;\r\n\r\n        if (this.state.addingPatient){\r\n            addingPatient = <AddPatientForm addPatient={this.addPatient} cancel={this.toogleAddingPatientStatus}/>\r\n        } else {\r\n            addingPatient = <Box className={classes.box}>\r\n                                <Button className={\"MuiButton-Full\"} onClick={this.toogleAddingPatientStatus}>\r\n                                    Agregar Paciente\r\n                                </Button>\r\n                            </Box>\r\n        }\r\n        return (\r\n            <Container maxWidth=\"sm\" component=\"main\" className={\"MuiContainer--01\"}>\r\n                <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\r\n                    Pacientes\r\n                </Typography>\r\n                <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n                    Lista de Pacientes\r\n                </Typography>\r\n                <SearchBoxPatients inputValue={filter} onFilterChange={this.handleFilterChange}/>\r\n                {addingPatient}\r\n                <PatientList patients={patients} filter={filter}/>\r\n            </Container>\r\n        );\r\n\r\n    }\r\n}\r\nexport default withStyles(styles, { withTheme: true })(Patients);"]},"metadata":{},"sourceType":"module"}